cc_library(
  name='liblog_type',
  hdrs=[
    'log_type.h',
  ],
  visibility=[
    '//visibility:public',
  ],
)

cc_library(
  name='liblog_chain',
  srcs=[
    'log_chain.cc',
  ],
  hdrs=[
    'log_chain.h',
  ],
  deps=[
    ':liblog_driver',
    ':liblog_type',
  ],
)

cc_library(
  name='liblog_driver',
  srcs=[
    'log_driver.cc',
  ],
  hdrs=[
    'log_driver.h',
  ],
  deps=[
    ':liblog_type',
    '//lib/context:libcontext',
  ],
)

cc_library(
  name='liblog',
  srcs=[
    'log.cc',
    'logger.cc',
  ],
  hdrs=[
    'log.h',
    'logger.h',
  ],
  deps=[
    ':liblog_chain',
    ':liblog_driver',
    ':liblog_type',
    '//lib/context:libcomponent',
    '//lib/context:libcontext',
  ],
  copts=[
    '--std=c++17',
  ],
  visibility=['//visibility:public',],
)

cc_library(
  name='liblog_driver_file',
  srcs=[
    'log_driver_file.cc',
  ],
  hdrs=[
    'log_driver_file.h',
  ],
  deps=[
    ':liblog_driver',
    ':liblog_type',
  ],
  visibility=[
    '//lib/config:__pkg__',
  ],
)

cc_library(
  name='liblog_driver_raw',
  srcs=[
    'log_driver_raw.cc',
  ],
  hdrs=[
    'log_driver_raw.h',
  ],
  deps=[
    ':liblog_driver',
    ':liblog_type',
  ],
  visibility=[
    '//lib/config:__pkg__',
  ],
)

