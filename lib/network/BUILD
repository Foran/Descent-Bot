cc_library(
  name='libconnection',
  srcs=[
    'connection.cc',
    'connectionmanager.cc',
  ],
  hdrs=[
    'connection.h',
    'connectionmanager.h',
  ],
  deps=[
    ':libpackets',
    '//lib/context:libcontext',
    '//lib/log:liblog',
  ],
  copts=[
    '--std=c++17',
  ],
  visibility=['//visibility:public',],
)

cc_library(
  name='libnetwork',
  srcs=[
    'network.cc',
  ],
  hdrs=[
    'network.h',
  ],
  copts=[
    '--std=c++17',
  ],
  visibility=['//lib/network/test:__pkg__',],
)

cc_library(
  name='libpackets',
  srcs=[
    'packets.cc',
  ],
  hdrs=[
    'packets.h',
  ],
  deps=[
    ':libnetwork',
    '//lib/context:libapplication_context',
    '//lib/log:liblog',
    '//protos/lib/network:libnetwork_cc_proto',
  ],
  copts=[
    '--std=c++17',
  ],
  visibility=['//lib/network/test:__pkg__',],
)
